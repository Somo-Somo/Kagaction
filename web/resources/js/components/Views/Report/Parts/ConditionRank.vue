<template>
    <g id="Condition Rank">
        <path
            id="Condition"
            d="M691.883 111.504C695.375 111.504 698.363 110.172 700.631 107.544L697.247 103.512C695.987 104.88 694.295 105.96 692.135 105.96C688.355 105.96 685.907 102.864 685.907 97.536C685.907 92.316 688.751 89.22 692.207 89.22C694.115 89.22 695.519 90.084 696.887 91.308L700.235 87.204C698.399 85.332 695.591 83.712 692.099 83.712C685.295 83.712 679.319 88.824 679.319 97.752C679.319 106.824 685.079 111.504 691.883 111.504ZM712.943 111.504C718.127 111.504 722.951 107.544 722.951 100.74C722.951 93.972 718.127 90.012 712.943 90.012C707.723 90.012 702.899 93.972 702.899 100.74C702.899 107.544 707.723 111.504 712.943 111.504ZM712.943 106.32C710.531 106.32 709.451 104.16 709.451 100.74C709.451 97.356 710.531 95.196 712.943 95.196C715.319 95.196 716.399 97.356 716.399 100.74C716.399 104.16 715.319 106.32 712.943 106.32ZM726.973 111H733.381V97.32C734.605 96.132 735.469 95.484 736.909 95.484C738.529 95.484 739.285 96.276 739.285 99.12V111H745.693V98.328C745.693 93.216 743.785 90.012 739.321 90.012C736.549 90.012 734.461 91.416 732.769 93.072H732.661L732.193 90.516H726.973V111ZM758.012 111.504C759.956 111.504 761.936 110.46 763.376 109.02H763.52L763.988 111H769.208V82.236H762.8V89.076L763.016 92.136C761.684 90.84 760.352 90.012 758.084 90.012C753.836 90.012 749.624 94.044 749.624 100.74C749.624 107.436 752.9 111.504 758.012 111.504ZM759.704 106.248C757.508 106.248 756.212 104.592 756.212 100.668C756.212 96.888 757.832 95.232 759.596 95.232C760.676 95.232 761.828 95.556 762.8 96.456V104.52C761.9 105.852 760.928 106.248 759.704 106.248ZM774.363 111H780.771V90.516H774.363V111ZM777.567 87.672C779.691 87.672 781.131 86.376 781.131 84.36C781.131 82.38 779.691 81.084 777.567 81.084C775.407 81.084 774.003 82.38 774.003 84.36C774.003 86.376 775.407 87.672 777.567 87.672ZM793.994 111.504C796.082 111.504 797.558 111.072 798.638 110.748L797.63 106.104C797.126 106.284 796.406 106.5 795.758 106.5C794.246 106.5 793.166 105.6 793.166 103.332V95.52H797.99V90.516H793.166V85.08H787.874L787.154 90.516L783.986 90.768V95.52H786.758V103.404C786.758 108.228 788.846 111.504 793.994 111.504ZM801.961 111H808.369V90.516H801.961V111ZM805.165 87.672C807.289 87.672 808.729 86.376 808.729 84.36C808.729 82.38 807.289 81.084 805.165 81.084C803.005 81.084 801.601 82.38 801.601 84.36C801.601 86.376 803.005 87.672 805.165 87.672ZM822.42 111.504C827.604 111.504 832.428 107.544 832.428 100.74C832.428 93.972 827.604 90.012 822.42 90.012C817.2 90.012 812.376 93.972 812.376 100.74C812.376 107.544 817.2 111.504 822.42 111.504ZM822.42 106.32C820.008 106.32 818.928 104.16 818.928 100.74C818.928 97.356 820.008 95.196 822.42 95.196C824.796 95.196 825.876 97.356 825.876 100.74C825.876 104.16 824.796 106.32 822.42 106.32ZM836.449 111H842.857V97.32C844.081 96.132 844.945 95.484 846.385 95.484C848.005 95.484 848.761 96.276 848.761 99.12V111H855.169V98.328C855.169 93.216 853.261 90.012 848.797 90.012C846.025 90.012 843.937 91.416 842.245 93.072H842.137L841.669 90.516H836.449V111Z"
            fill="#91C5BE"
        />
        <g id="Upper_2">
            <g id="first_2">
                <!-- <path
                    id="1st:_2"
                    d="M683.776 172H694.48V169.144H691.144V154.696H688.528C687.376 155.392 686.176 155.848 684.376 156.208V158.392H687.616V169.144H683.776V172ZM701.724 172.336C705.204 172.336 707.052 170.464 707.052 168.088C707.052 165.616 705.108 164.704 703.332 164.032C701.892 163.528 700.668 163.144 700.668 162.184C700.668 161.392 701.22 160.864 702.444 160.864C703.428 160.864 704.388 161.344 705.324 162.016L706.932 159.904C705.828 159.04 704.292 158.248 702.348 158.248C699.276 158.248 697.356 159.952 697.356 162.328C697.356 164.608 699.252 165.616 700.956 166.288C702.348 166.816 703.764 167.296 703.764 168.28C703.764 169.12 703.14 169.72 701.796 169.72C700.548 169.72 699.42 169.168 698.196 168.232L696.612 170.464C697.932 171.568 699.924 172.336 701.724 172.336ZM713.983 172.336C715.183 172.336 716.119 172.072 716.839 171.832L716.263 169.264C715.879 169.408 715.375 169.576 714.919 169.576C713.743 169.576 713.095 168.856 713.095 167.32V161.344H716.431V158.584H713.095V154.936H710.167L709.783 158.584L707.695 158.728V161.344H709.567V167.32C709.567 170.32 710.791 172.336 713.983 172.336ZM721.251 163.24C722.499 163.24 723.459 162.256 723.459 160.936C723.459 159.64 722.499 158.656 721.251 158.656C719.979 158.656 719.067 159.64 719.067 160.936C719.067 162.256 719.979 163.24 721.251 163.24ZM721.251 172.336C722.499 172.336 723.459 171.352 723.459 170.032C723.459 168.712 722.499 167.752 721.251 167.752C719.979 167.752 719.067 168.712 719.067 170.032C719.067 171.352 719.979 172.336 721.251 172.336Z"
                    fill="#91C5BE"
                /> -->
                <text
                    id="1st:_2"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="24"
                    font-weight="bold"
                    letter-spacing="0em"
                    ><tspan x="678.832" y="172.464">{{
                        rankTable[0].rank
                    }}</tspan></text
                >
                <text
                    id="40%_6"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="20"
                    font-weight="bold"
                    letter-spacing="0em"
                >
                    <tspan x="814.789" y="171.464"
                        >{{ rankTable[0].percent }} %</tspan
                    >
                </text>
                <g id="twemoji:frowning-face_6" clip-path="url(#clip5_140_4)">
                    <path
                        id="Vector_21"
                        d="M798 161C798 176.464 785.464 189 770 189C754.538 189 742 176.464 742 161C742 145.538 754.538 133 770 133C785.464 133 798 145.538 798 161Z"
                        fill="#FFCC4D"
                    />
                    <path
                        id="Vector_22"
                        d="M759.889 161C762.037 161 763.778 158.562 763.778 155.556C763.778 152.549 762.037 150.111 759.889 150.111C757.741 150.111 756 152.549 756 155.556C756 158.562 757.741 161 759.889 161Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_23"
                        d="M780.111 161C782.259 161 784 158.562 784 155.556C784 152.549 782.259 150.111 780.111 150.111C777.963 150.111 776.222 152.549 776.222 155.556C776.222 158.562 777.963 161 780.111 161Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_24"
                        d="M755.479 176.355C755.613 176.475 755.785 176.546 755.965 176.554C756.145 176.562 756.322 176.508 756.467 176.4C756.527 176.355 762.568 171.889 770 171.889C777.414 171.889 783.474 176.355 783.533 176.4C783.678 176.508 783.855 176.563 784.035 176.555C784.215 176.547 784.387 176.476 784.521 176.356C784.655 176.235 784.743 176.071 784.769 175.893C784.796 175.715 784.76 175.533 784.667 175.378C784.467 175.045 779.663 167.222 770 167.222C760.337 167.222 755.532 175.044 755.333 175.378C755.24 175.532 755.204 175.714 755.23 175.893C755.257 176.071 755.345 176.234 755.479 176.355V176.355Z"
                        fill="#664500"
                    />
                </g>
            </g>
            <g id="second_2">
                <text
                    id="2nd:_2"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="24"
                    font-weight="bold"
                    letter-spacing="0em"
                    ><tspan x="895.109" y="172.464">{{
                        rankTable[1].rank
                    }}</tspan></text
                >
                <text
                    id="40%_7"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="20"
                    font-weight="bold"
                    letter-spacing="0em"
                >
                    <tspan x="1038.79" y="171.464"
                        >{{ rankTable[1].percent }} %</tspan
                    >
                </text>
                <g id="twemoji:frowning-face_7" clip-path="url(#clip6_140_4)">
                    <path
                        id="Vector_25"
                        d="M1022 161C1022 176.464 1009.46 189 994 189C978.538 189 966 176.464 966 161C966 145.538 978.538 133 994 133C1009.46 133 1022 145.538 1022 161Z"
                        fill="#FFCC4D"
                    />
                    <path
                        id="Vector_26"
                        d="M983.889 161C986.037 161 987.778 158.562 987.778 155.556C987.778 152.549 986.037 150.111 983.889 150.111C981.741 150.111 980 152.549 980 155.556C980 158.562 981.741 161 983.889 161Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_27"
                        d="M1004.11 161C1006.26 161 1008 158.562 1008 155.556C1008 152.549 1006.26 150.111 1004.11 150.111C1001.96 150.111 1000.22 152.549 1000.22 155.556C1000.22 158.562 1001.96 161 1004.11 161Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_28"
                        d="M979.479 176.355C979.613 176.475 979.785 176.546 979.965 176.554C980.145 176.562 980.322 176.508 980.467 176.4C980.527 176.355 986.568 171.889 994 171.889C1001.41 171.889 1007.47 176.355 1007.53 176.4C1007.68 176.508 1007.85 176.563 1008.04 176.555C1008.22 176.547 1008.39 176.476 1008.52 176.356C1008.65 176.235 1008.74 176.071 1008.77 175.893C1008.8 175.715 1008.76 175.533 1008.67 175.378C1008.47 175.045 1003.66 167.222 994 167.222C984.337 167.222 979.532 175.044 979.333 175.378C979.24 175.532 979.204 175.714 979.23 175.893C979.257 176.071 979.345 176.234 979.479 176.355V176.355Z"
                        fill="#664500"
                    />
                </g>
            </g>
        </g>
        <g id="Middle_2">
            <g id="third_2">
                <text
                    id="3rd:_2"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="24"
                    font-weight="bold"
                    letter-spacing="0em"
                    ><tspan x="678.832" y="256.464">{{
                        rankTable[2].rank
                    }}</tspan></text
                >
                <text
                    id="40%_8"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="20"
                    font-weight="bold"
                    letter-spacing="0em"
                >
                    <tspan x="814.789" y="255.464"
                        >{{ rankTable[2].percent }} %</tspan
                    >
                </text>
                <g id="twemoji:frowning-face_8" clip-path="url(#clip7_140_4)">
                    <path
                        id="Vector_29"
                        d="M798 245C798 260.464 785.464 273 770 273C754.538 273 742 260.464 742 245C742 229.538 754.538 217 770 217C785.464 217 798 229.538 798 245Z"
                        fill="#FFCC4D"
                    />
                    <path
                        id="Vector_30"
                        d="M759.889 245C762.037 245 763.778 242.562 763.778 239.556C763.778 236.549 762.037 234.111 759.889 234.111C757.741 234.111 756 236.549 756 239.556C756 242.562 757.741 245 759.889 245Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_31"
                        d="M780.111 245C782.259 245 784 242.562 784 239.556C784 236.549 782.259 234.111 780.111 234.111C777.963 234.111 776.222 236.549 776.222 239.556C776.222 242.562 777.963 245 780.111 245Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_32"
                        d="M755.479 260.355C755.613 260.475 755.785 260.546 755.965 260.554C756.145 260.562 756.322 260.508 756.467 260.4C756.527 260.355 762.568 255.889 770 255.889C777.414 255.889 783.474 260.355 783.533 260.4C783.678 260.508 783.855 260.563 784.035 260.555C784.215 260.547 784.387 260.476 784.521 260.356C784.655 260.235 784.743 260.071 784.769 259.893C784.796 259.715 784.76 259.533 784.667 259.378C784.467 259.045 779.663 251.222 770 251.222C760.337 251.222 755.532 259.044 755.333 259.378C755.24 259.532 755.204 259.714 755.23 259.893C755.257 260.071 755.345 260.234 755.479 260.355V260.355Z"
                        fill="#664500"
                    />
                </g>
            </g>
            <g id="fourth_2">
                <text
                    id="4th:_2"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="24"
                    font-weight="bold"
                    letter-spacing="0em"
                    ><tspan x="900.109" y="256.464">{{
                        rankTable[3].rank
                    }}</tspan></text
                >
                <text
                    id="40%_9"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="20"
                    font-weight="bold"
                    letter-spacing="0em"
                >
                    <tspan x="1038.79" y="255.464"
                        >{{ rankTable[3].percent }} %</tspan
                    >
                </text>
                <g id="twemoji:frowning-face_9" clip-path="url(#clip8_140_4)">
                    <path
                        id="Vector_33"
                        d="M1022 245C1022 260.464 1009.46 273 994 273C978.538 273 966 260.464 966 245C966 229.538 978.538 217 994 217C1009.46 217 1022 229.538 1022 245Z"
                        fill="#FFCC4D"
                    />
                    <path
                        id="Vector_34"
                        d="M983.889 245C986.037 245 987.778 242.562 987.778 239.556C987.778 236.549 986.037 234.111 983.889 234.111C981.741 234.111 980 236.549 980 239.556C980 242.562 981.741 245 983.889 245Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_35"
                        d="M1004.11 245C1006.26 245 1008 242.562 1008 239.556C1008 236.549 1006.26 234.111 1004.11 234.111C1001.96 234.111 1000.22 236.549 1000.22 239.556C1000.22 242.562 1001.96 245 1004.11 245Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_36"
                        d="M979.479 260.355C979.613 260.475 979.785 260.546 979.965 260.554C980.145 260.562 980.322 260.508 980.467 260.4C980.527 260.355 986.568 255.889 994 255.889C1001.41 255.889 1007.47 260.355 1007.53 260.4C1007.68 260.508 1007.85 260.563 1008.04 260.555C1008.22 260.547 1008.39 260.476 1008.52 260.356C1008.65 260.235 1008.74 260.071 1008.77 259.893C1008.8 259.715 1008.76 259.533 1008.67 259.378C1008.47 259.045 1003.66 251.222 994 251.222C984.337 251.222 979.532 259.044 979.333 259.378C979.24 259.532 979.204 259.714 979.23 259.893C979.257 260.071 979.345 260.234 979.479 260.355V260.355Z"
                        fill="#664500"
                    />
                </g>
            </g>
        </g>
        <g id="Bottom_2">
            <g id="fifth_2">
                <text
                    id="5th:_2"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="24"
                    font-weight="bold"
                    letter-spacing="0em"
                    ><tspan x="679.793" y="340.464">{{
                        rankTable[4].rank
                    }}</tspan></text
                >
                <text
                    id="40%_10"
                    fill="#91C5BE"
                    xml:space="preserve"
                    style="white-space: pre"
                    font-family="Noto Sans JP"
                    font-size="20"
                    font-weight="bold"
                    letter-spacing="0em"
                >
                    <tspan x="814.789" y="339.464"
                        >{{ rankTable[4].percent }} %</tspan
                    >
                </text>
                <g id="twemoji:frowning-face_10" clip-path="url(#clip9_140_4)">
                    <path
                        id="Vector_37"
                        d="M798 329C798 344.464 785.464 357 770 357C754.538 357 742 344.464 742 329C742 313.538 754.538 301 770 301C785.464 301 798 313.538 798 329Z"
                        fill="#FFCC4D"
                    />
                    <path
                        id="Vector_38"
                        d="M759.889 329C762.037 329 763.778 326.562 763.778 323.556C763.778 320.549 762.037 318.111 759.889 318.111C757.741 318.111 756 320.549 756 323.556C756 326.562 757.741 329 759.889 329Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_39"
                        d="M780.111 329C782.259 329 784 326.562 784 323.556C784 320.549 782.259 318.111 780.111 318.111C777.963 318.111 776.222 320.549 776.222 323.556C776.222 326.562 777.963 329 780.111 329Z"
                        fill="#664500"
                    />
                    <path
                        id="Vector_40"
                        d="M755.479 344.355C755.613 344.475 755.785 344.546 755.965 344.554C756.145 344.562 756.322 344.508 756.467 344.4C756.527 344.355 762.568 339.889 770 339.889C777.414 339.889 783.474 344.355 783.533 344.4C783.678 344.508 783.855 344.563 784.035 344.555C784.215 344.547 784.387 344.476 784.521 344.356C784.655 344.235 784.743 344.071 784.769 343.893C784.796 343.715 784.76 343.533 784.667 343.378C784.467 343.045 779.663 335.222 770 335.222C760.337 335.222 755.532 343.044 755.333 343.378C755.24 343.532 755.204 343.714 755.23 343.893C755.257 344.071 755.345 344.234 755.479 344.355V344.355Z"
                        fill="#664500"
                    />
                </g>
            </g>
        </g>
    </g>
</template>

<script>
export default {
    data: () => ({
        rankTable: [],
    }),
    props: {
        condition: {
            type: Object,
        },
    },
    computed: {},
    methods: {
        sortCondition() {
            return this.condition.type.sort(function (a, b) {
                if (a.num > b.num) return -1;
                if (a.num < b.num) return 1;
            });
        },
        putRank(sortCondition) {
            let rank = 1;
            let rank_string = "";
            for (let i = 0; i < sortCondition.length; i++) {
                if (i === 0) {
                    rank_string = "1st:";
                } else {
                    rank =
                        sortCondition[i].num === sortCondition[i - 1].num
                            ? rank
                            : i + 1;
                    if (rank === 1) {
                        rank_string = rank + "st:";
                    } else if (rank === 2) {
                        rank_string = rank + "nd:";
                    } else if (rank === 3) {
                        rank_string = rank + "rd:";
                    } else {
                        rank_string = rank + "th:";
                    }
                }
                this.rankTable.push({
                    rank: rank_string,
                    percent: Math.round(
                        (sortCondition[i].num / this.condition.total) * 100
                    ),
                });
            }
        },
    },
    mounted() {
        const sortCondition = this.sortCondition();
        console.info(sortCondition);
        this.putRank(sortCondition);
    },
};
</script>
